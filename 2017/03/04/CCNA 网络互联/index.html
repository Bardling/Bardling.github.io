<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>CCNA 网络互联 | NofunUtopia</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CCNA 网络互联</h1><a id="logo" href="/.">NofunUtopia</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 档案</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CCNA 网络互联</h1><div class="post-meta">Mar 4, 2017<span> | </span><span class="category"><a href="/categories/CCNA/">CCNA</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2017/03/04/CCNA 网络互联/" href="/2017/03/04/CCNA 网络互联/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>本章主要介绍了网络互联的基础和OSI模型个层的大致内容。<br><a id="more"></a></p>
<h2 id="网络互联基础"><a href="#网络互联基础" class="headerlink" title="网络互联基础"></a>网络互联基础</h2><p>首先，要了解的是解决<strong>网络分段</strong>的几个重要设备，分别为<strong>路由器、交换机、集线器、网桥</strong>等设备。对网络进行分段，将网络分割为不同的<strong>冲突域</strong>和<strong>广播域</strong>。<br>了解设备前需要先清楚这两个域的大致概念。</p>
<ul>
<li><strong>冲突域</strong>是指某台设备在网络上发送分组时，当前网段中的其它所有设备都必需侦听它。如果两台设备试图同时传输数据，将发生冲突。所以同一时刻只允许一台设备传输数据。</li>
<li><strong>广播域</strong>是指网段中的一组设备，它们侦听在该网段上发送的所有广播。也就是说如果有一条数据是以广播形式发送的那在同一广播域的设备都将受到这份数据。</li>
</ul>
<p>基本了解了这两个概念后现在来介绍网络互联的设备。</p>
<ul>
<li><strong>集线器</strong>工作在OSI模型的第一层物理层，实际上是一种多端口转发器。接收数字信号，进行放大或重建，然后将其转发出去，整个过程不查看数据。与集线器相连的所有设备都属于同一个冲突域和广播域。</li>
<li><strong>交换机</strong>工作在OSI模型的第二场数据链路层，它的主要用途是让LAN更好的运行，提供更高的带宽，实际上<strong>网桥</strong>和<strong>交换机</strong>基本功能相同，但是交换机管理功能得到极大改善。而且网桥一般有2或4个端口，而有些交换机端口数量多达数百个。所以当前基本上很少用到网桥。</li>
<li><strong>路由器</strong>是网络互联中一个很重要的设备，工作在OSI模型的第三层网络层，可以看成是第三层的交换机，但是路由器还可以提供分组交换功能。还可以对访问列表进行分组过滤。当路由器连接多个网络时，会使用路由选择表来选择最合适的路径将分组转发到远程网络。</li>
</ul>
<p>不同的设备会对冲突域和广播域有不同的影响。</p>
<ul>
<li><strong>集线器</strong>创造一个冲突域和一个广播域，所以和一个集线器相连的所有设备都处于同一个冲突域和广播域</li>
<li><strong>网桥、交换机</strong>分割冲突域，但创建一个大型广播域，就是所有相连的设备都属于单个的冲突域，但是却都在同一个广播域</li>
<li><strong>路由器</strong>同时分割冲突域和广播域，并使用逻辑地址过滤网络</li>
</ul>
<p>为了更好的是使用网络，有时候必须将大网络划分成一系列的小网络，因为随着网络的增大，用户相应将非常缓慢，甚至发送严重的拥塞。所以为了解决这种问题才需要把大型网络划分为众多小网络，这就是<strong>网络分段（network segmentation)</strong>。<br>同时导致<strong>网络拥塞</strong>的常见原因有很多，比如：</p>
<ul>
<li>同一个广播域或冲突域中的主机太多</li>
<li>广播风暴</li>
<li>组播数据流太多</li>
<li>带宽太低</li>
<li>使用集线器扩展网络<br>所有，为了提高网络的使用效率和传输速度，需要合理的划分网络的冲突域和广播域。<br><img src="https://ww4.sinaimg.cn/large/006tKfTcgy1fdb0ytwxirj30i50bf40m.jpg" alt=""><br>如图，有四台主机，两两连接在各自的交换机上，由于交换机分割冲突域，所以每一台主机都位于一个独立的冲突域。而路由器也分割冲突域，所欲两个交换机也各自位于独立的冲突域，所以图中的冲突域为6个。而广播域为两个，路由器分割出两个广播域，而且每台交换机又各自创建一个广播域，所以每台交换机连接的两台主机成为一个广播域。总共为两个广播域。</li>
</ul>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdaz11yratj30j80hpgop.jpg" alt=""><br>再看这一幅图，使用了所有的网络互联设备。路由器位于中心，将所有物理网络连接起来，同时也分割出了3个广播域和3个冲突域。上方区域的网桥与交换机功能基本相同，所以分割了2个冲突域。左方的三个交换机，一共创建了4个冲突域。而下方的集线器不能将网络分段，只是将网段连接起来。所以图中一共有9个冲突域和3个广播域。</p>
<p>在网络互联中，最好的是使交换机的每个端口都属于一个独立的冲突域，但是同时也要确认广播域的范围，因为如果所有设备都同属于一个广播域的话，会使网络变得很糟糕，整个网络需要处理的广播会很多，从而影响整个网络的速度。<br><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdb0ykhzl4j30jq09g40s.jpg" alt=""><br>但在所有网络中仅有交换机是，情况得到了改善。这幅图使得所有设备都属于独立冲突域。而且每个VLAN对应一个独立的广播域。同时也是需要一个路由器，以便在VLAN之间进行路由选择。该图中共有10个冲突域。</p>
<h2 id="OSI参考模型"><a href="#OSI参考模型" class="headerlink" title="OSI参考模型"></a>OSI参考模型</h2><p>OSI模型分为七层，分为两组：上3层制定了终端中的应用程序热喝彼此通信以及如何与用户交流；下4层指定了如何进行端对端的数据传输。<br><img src="https://ww4.sinaimg.cn/large/006tKfTcgy1fdb3vrssndj30bn0dwq4x.jpg" alt=""><br>上3层负责主机之间的应用程序通信。下4层定义了数据如何通过物理电缆、交换机和路由器进行传输的，还定义了如何重建从发送方主机到目标主机的应用程序的数据流。</p>
<h3 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h3><p>应用层市用户域计算机交流的场所，用于界面就位于应用层。当马上需要访问网络市，这一层才会发挥作用。还负责寻找服务器提供的网络资源，判断通信伙伴的可用性，协调参与通信的应用程序，并控制数据完整性和错误恢复的流程达成一致。</p>
<h3 id="表示层"><a href="#表示层" class="headerlink" title="表示层"></a>表示层</h3><p>表示层像应用层提供数据，并负责数据转换和代码格式化。主要是提供编码和转换功能，将数据转换为标准格式在传输。表示层能确保从一个系统的应用层传输过来的数据可以被另一个系统的应用层读取。</p>
<h3 id="会话层"><a href="#会话层" class="headerlink" title="会话层"></a>会话层</h3><p>会话层负责在表示层之间建立、管理和终止会话，还对设备或或节点之间对话进行控制。有三种不同模式：<strong>单工、半双工、全双工</strong>。</p>
<h3 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h3><p>传输层将数据进行分段并重组数据流。主要的协议为TCP和UDP。TCP提供可靠服务，而UDP不是。传输层负责提供如下机制：对上层应用程序进行多路复用、建立会话以及拆除虚电路。他还提供透明的数据传输，从而对高层隐藏随网络而异的信息。</p>
<p>在可靠传输操作中，会先在两台主机建立一条连接。第一步，发送方先发送一条数据段，用于请求同步。第二步，接收方发送数据回接收方，确认已经收到开启连接的请求。第三步，发送方发送数据段，通知目标主机连接协定已经被接受且连接已建立，现在可以传输数据了。这三步被称为<strong>三次握手</strong>，传输期间两台主机会定期检查对方，确保传输顺利。<br><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdb6b7mj6qj30e60a8wg1.jpg" alt=""></p>
<p>但在传输期间，如果数据量过大，接收方会把数据储存在<strong>缓存区</strong>的内存中，但仅仅适用于突发数据段较少的情况下。所以还需要有<strong>流量控制</strong>来确保数据的可靠传输，当接收方收到的数据已经过多时，会对发送方发送缓冲区已满的信号，发送方收到后将停止传输，当接收方对数据处理完毕时，会再次发送处理完毕的信号给发送方，接收到信号的发送方此时再继续发送数据。<br><img src="https://ww4.sinaimg.cn/large/006tKfTcgy1fdb6c4rdm1j30gq0ccjta.jpg" alt=""></p>
<p>但是如果每次发送都要等待确认，传输速度将会变慢。在发送方收到确认时有一段时间，可以用这段时间发送更多数据。在收到去确认前可以发送的数据段数量就称为<strong>窗口</strong>。接收方告诉发送方现在允许的窗口大小，发送方就根据信息发送相应数量的数据段，在等待确认。<br><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fdb6sstsu9j30db0chdhs.jpg" alt=""></p>
<p>但在发送时若是有其中一个数据段发送失败，那接收方回发送信号要求再次发送该段数据，发送方接收到后，会重传该数据<br><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fdb6sstsu9j30db0chdhs.jpg" alt=""></p>
<h3 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h3><p>网络层管理设备编址、跟踪设备在网络中的位置并确定最佳数据传输路径，这意味网络层必须在位于不同网络中的设备之间传输数据流。路由器就位于网络层，在网络中提供路由选择服务。</p>
<p>网络层分组有两种</p>
<ul>
<li>数据分组 用于在互联网传输用户数据。用于支持用户数据的协议称为<strong>路由协议</strong>，包括IP和IPv6</li>
<li>路由更新分组 包含与有关互联网络中所有路由器连接的网络的更新信息，用这些信息告知邻接路由器。发送路由更新分组的协议称为<strong>路由选择协议</strong>，一些常见协议为RIP、RIPv2、EIGRP和OSPF。<h3 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h3>数据链路层提供数据的物理传输，并处理错误通知、网络拓扑和流量控制。数据链路层将报文封装成数据帧，并添加报头，包含目标硬件地址和源硬件地址。建立过滤表，网络层纸吧帧发送到目标硬件地址的所属网段：如果目标设备与发送设备处于同一个网段，第2层设备将禁止帧进入其它网段；如果目标设备位于另一个网段，帧将只传输到该网段。这称为<strong>透明桥接</strong>。</li>
</ul>
<p>交换机接口收到帧后，如果在过滤表找不到其它目标硬件地址，交换机将吧帧转发到所有网段。如果有未知设备对这种转发操作做出应答，交换机将更新其过滤表中有关该设备的位置信息。如果帧的目标地址为广播地址，交换机将默认吧所有广播转发给与之相连的所有网段。</p>
<h3 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h3><p>物理层为最底层，主要功能就是发送和接受比特。所有信号都转换为0和1，不同类型的介质以不同方式表示比特值，有些使用<strong>状态切换</strong>——从高电平变成低电平或者相反。集线器就是在物理层转发信号，进行放大或重建，不查看数据。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本章主要掌握简单的基本网络以及冲突域和广播域。还有了解了OSI模型七层的各自功能及其设备和网络协议。只有先积累了最基础的知识才能继续深入学习。</p>
<p>参考教材  <a href="https://book.douban.com/subject/10546202/" title="Bardling" target="_blank" rel="external">CCNA学习指南</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2017/03/04/CCNA 网络互联/" data-id="cjt1mir3p0003sup9rcjma9fi" class="article-share-link">分享到</a><div class="tags"><a href="/tags/OSI模型/">OSI模型</a><a href="/tags/网络互联/">网络互联</a></div><div class="post-nav"><a href="/2017/03/05/CCNA 以太网和数据封装/" class="pre">CCNA 以太网和数据封装</a><a href="/2017/01/16/hello-world 下午10.37.09/" class="next">Hello World</a></div><div id="disqus_thread"><script>var disqus_shortname = 'true';
var disqus_identifier = '2017/03/04/CCNA 网络互联/';
var disqus_title = 'CCNA 网络互联';
var disqus_url = 'http://yoursite.com/2017/03/04/CCNA 网络互联/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//true.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CCNA/">CCNA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/命令/" style="font-size: 15px;">命令</a> <a href="/tags/OSI模型/" style="font-size: 15px;">OSI模型</a> <a href="/tags/网络互联/" style="font-size: 15px;">网络互联</a> <a href="/tags/CSMA-CD/" style="font-size: 15px;">CSMA/CD</a> <a href="/tags/MAC地址/" style="font-size: 15px;">MAC地址</a> <a href="/tags/IP/" style="font-size: 15px;">IP</a> <a href="/tags/广播地址/" style="font-size: 15px;">广播地址</a> <a href="/tags/子网掩码/" style="font-size: 15px;">子网掩码</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/30/CCNA 子网掩码/">CCNA 子网掩码</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/Liunx 基础命令(一)/">Linux 基础命令(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/05/CCNA 以太网和数据封装/">CCNA 以太网和数据封装</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/CCNA 网络互联/">CCNA 网络互联</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/16/hello-world 下午10.37.09/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//true.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">NofunUtopia.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>